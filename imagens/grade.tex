
\documentclass{standalone}
\usepackage{amsmath, amsthm, amsfonts, amssymb}
\usepackage{tikz}
\usetikzlibrary{shapes,snakes,positioning,calc}
\usepackage{hyperref}


% O comando \disciplina usado aqui quando o PPC é compilado foi definido
% em ppc-bcc.tex. O comando \disciplina abaixo é SOMENTE para quando
% compilamos a grade isoladamente.

\def\altura{59pt}

\newcommand{\disciplina}[6][nyellow]{
\node [draw=black, fill=#1, very thick, rectangle, rounded corners, inner
sep=2pt, inner ysep=2pt, text width=#5pt, minimum height=\altura,
text centered, anchor=west] (#4) at (#2,#3) {
   \begin{minipage}{#5pt}
   \linespread{1.0}\selectfont
       \centering
       \footnotesize{#6}
   \end{minipage}
};
}

\usepackage{xcolor}
\definecolor{nred}{rgb}{0.88, 0.28, 0.33}
\definecolor{nblue}{rgb}{0.34, 0.74, 0.96}
\definecolor{nyellow}{rgb}{0.8, 0.86, 0.38}
\definecolor{npurple}{rgb}{0.25, 0.34, 0.93}
\definecolor{ngreen}{rgb}{0.45, 0.95, 0.66}


\begin{document}

\begin{tikzpicture}[scale=1.02]

\def\altura{59pt}

  
\def\sz{28pt}

\def\doisc{50} % 2*\sz - 6
\def\tresc{78} % 3*\sz - 6
\def\quatc{106} % 4*\sz - 6
\def\cincc{134} % 5*\sz - 6
\def\seisc{162} % 6*\sz - 6
\def\dozec{330} % 12*\sz - 6


    % \def\sz{22pt}
    % \def\doisc{38} % 2*\sz - 6
    % \def\tresc{60} % 3*\sz - 6
    % \def\quatc{82} % 4*\sz - 6
    % \def\cincc{104} % 5*\sz - 6
    % \def\seisc{126} % 6*\sz - 6
    % \def\dozec{258} % 12*\sz - 6
    
    %Q1
    \node [draw, rotate=90, black,rectangle, minimum width=3*\altura, minimum height=10pt, rounded corners] at (-25pt,-\altura) {\footnotesize{1º ANO}};
    
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum height=10pt, rounded corners] at (-10pt,0pt) {\footnotesize{1º quad}};
    
    \disciplina [gray!60]{0*\sz}{0pt}{a}{\tresc}{Humanidades 1 \\(3-0-0-4)}
    \disciplina [gray!60]{3*\sz}{0pt}{b}{\tresc}{Base Experimental das Ciências Naturais\\ (0-3-0-2)}
    \disciplina [gray!60]{6*\sz}{0pt}{c}{\tresc}{Estrutura da Matéria \\(3-0-0-4)}
    \disciplina [gray!60]{9*\sz}{0pt}{d}{\quatc}{Bases Matemáticas\\(4-0-0-5)}
    \disciplina [gray!60]{13*\sz}{0pt}{e}{\tresc}{Evolução e Diversificação da Vida na Terra \\(3-0-0-4)}
    \disciplina [gray!60]{16*\sz}{0pt}{f}{\doisc}{Bases Computacionais da Ciência \\(0-2-0-2)}

    \node [rectangle, minimum width=10pt, minimum height=35pt] at (570pt,0pt) {18};

    %Q2
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-\altura) {\footnotesize{2º quad}};
    
    \disciplina [gray!60]{0*\sz}{-\altura}{a}{\tresc}{Natureza da Informação\\(3-0-0-4)}
    \disciplina [gray!60]{3*\sz}{-\altura}{a}{\cincc}{Fenômenos Mecânicos\\(4-1-0-6)}
    \disciplina [gray!60]{8*\sz}{-\altura}{a}{\quatc}{Funções de uma Variável\\(4-0-0-6)}
    \disciplina [gray!60]{12*\sz}{-\altura}{a}{\tresc}{Geometria Analítica\\(3-0-0-6)}
    \disciplina [gray!60]{15*\sz}{-\altura}{a}{\tresc}{Biodiversidade: Interações entre Organismos e Ambiente\\(3-0-0-4)}
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-\altura) {18};
    
    %Q3
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-2*\altura) {\footnotesize{3º quad}};
    
    \disciplina [gray!60]{0*\sz}{-2*\altura}{a}{\quatc}{Processamento da Informação\\(0-4-0-4)}
    \disciplina [gray!60]{4*\sz}{-2*\altura}{a}{\cincc}{Fenômenos Térmicos\\(3-1-0-4)}
    \disciplina [gray!60]{9*\sz}{-2*\altura}{a}{\quatc}{Funções de Várias Variáveis\\(4-0-0-6)}
    \disciplina [gray!60]{13*\sz}{-2*\altura}{a}{\cincc}{Transformações Químicas\\(3-2-0-6)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-2*\altura) {18};

    %Q4
    \node [draw, rotate=90, black,rectangle, minimum width=3*\altura, minimum
    height=10pt, rounded corners] at (-25pt,-4*\altura) {\footnotesize{2º ANO}};
    
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-3*\altura) {\footnotesize{4º quad}};

    \disciplina [gray!60]{0*\sz}{-3*\altura}{a}{\tresc}{Comunicação e Redes\\(3-0-0-4)}
    \disciplina [gray!60]{3*\sz}{-3*\altura}{a}{\cincc}{Fenômenos Eletromagnéticos\\(4-1-0-6)}
    \disciplina [gray!60]{8*\sz}{-3*\altura}{a}{\quatc}{Introdução às Equações Diferencias Ordinárias\\(4-0-0-4)}
    \disciplina [gray!60]{12*\sz}{-3*\altura}{a}{\tresc}{Introdução à Probabilidade e à Estatística\\(3-0-0-4)}
    \disciplina [nblue]{15*\sz}{-3*\altura}{a}{\quatc}{{\hyperref[disc:mdI]Matemática Discreta}\\(4-0-0-4)}

    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-3*\altura) {19};
    
    %Q5
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-4*\altura) {\footnotesize{5º quad}};
    
    \disciplina [gray!60]{0*\sz}{-4*\altura}{a}{\tresc}{Humanidades 2\\(3-0-0-4)}
    \disciplina [gray!60]{3*\sz}{-4*\altura}{a}{\cincc}{Bioquímica: Estrutura, Propriedade e Funções de Biomoléculas\\(3-2-0-6)}
    \disciplina [gray!60]{8*\sz}{-4*\altura}{a}{\quatc}{Física Quântica\\(3-0-0-4)}
    \disciplina [nblue]{12*\sz}{-4*\altura}{a}{\quatc}{{\hyperref[disc:pe]Programação Estruturada}\\(2-2-0-4)}
    \disciplina [nred]{16*\sz}{-4*\altura}{a}{\quatc}{Livre\\(4 créditos)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-4*\altura) {20};

    %Q6
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-5*\altura) {\footnotesize{6º quad}};
    
    \disciplina [gray!60]{0*\sz}{-5*\altura}{a}{\tresc}{Humanidades 3\\(3-0-0-4)}
    \disciplina [nblue]{3*\sz}{-5*\altura}{a}{\quatc}{{\hyperref[disc:circ_dig]Circuitos Digitais}\\(3-1-0-4)}
    \disciplina [nblue]{7*\sz}{-5*\altura}{a}{\seisc}{{\hyperref[disc:alge_lin]Álgebra Linear}\\(6-0-0-5)}
    \disciplina [nblue]{13*\sz}{-5*\altura}{a}{\quatc}{{\hyperref[disc:aedI]Algoritmos e Estruturas de Dados I}\\(2-2-0-6)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-5*\altura) {17};

    %Q7
    \node [draw, rotate=90, black,rectangle, minimum width=3*\altura, minimum
    height=10pt, rounded corners] at (-25pt,-7*\altura) {\footnotesize{3º ANO}};
    
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-6*\altura) {\footnotesize{7º quad}};
    
    \disciplina [nblue]{0*\sz}{-6*\altura}{a}{\quatc}{{\hyperref[disc:poo]Programação Orientada a Objetos}\\(2-2-0-4)}
    \disciplina [nblue]{4*\sz}{-6*\altura}{a}{\quatc}{{\hyperref[disc:sist_dig]Sistemas Digitais}\\(2-2-0-4)}
    \disciplina [nblue]{8*\sz}{-6*\altura}{a}{\quatc}{{\hyperref[disc:mdII]Matemática Discreta II}\\(4-0-0-4)}
    \disciplina [nblue]{12*\sz}{-6*\altura}{a}{\quatc}{{\hyperref[disc:aedII]Algoritmos e Estruturas de Dados II}\\(4-0-0-6)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-6*\altura) {16};

    %Q8
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-7*\altura) {\footnotesize{8º quad}};
    
    \disciplina [nyellow]{0*\sz}{-7*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-7*\altura}{a}{\quatc}{{\hyperref[disc:arq]Arquitetura de Computadores}\\(4-0-0-4)}
    \disciplina [nblue]{8*\sz}{-7*\altura}{a}{\quatc}{{\hyperref[disc:ia]Inteligência Artificial}\\(4-0-0-4)}
    \disciplina [nblue]{12*\sz}{-7*\altura}{a}{\quatc}{{\hyperref[disc:ag]Algoritmos em Grafos}\\(4-0-0-4)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-7*\altura) {16};
    
    %Q9
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-8*\altura) {\footnotesize{9º quad}};
    
    \disciplina [nyellow]{0*\sz}{-8*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-8*\altura}{a}{\quatc}{{\hyperref[disc:redes]Redes de Computadores}\\(3-1-0-4)}
    \disciplina [nblue]{8*\sz}{-8*\altura}{a}{\quatc}{{\hyperref[disc:es]Engenharia de Software}\\(4-0-0-4)}
    \disciplina [nblue]{12*\sz}{-8*\altura}{a}{\quatc}{{\hyperref[disc:aaI]Análise de Algoritmos I}\\(4-0-0-4)}
    \disciplina [gray!60]{16*\sz}{-8*\altura}{a}{\doisc}{Projeto Dirigido\\(0-2-0-10)}

    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-8*\altura) {18};


    %Q10
    \node [draw, rotate=90, black,rectangle, minimum width=3*\altura, minimum
    height=10pt, rounded corners] at (-25pt,-10*\altura) {\footnotesize{4º ANO}};
    
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-9*\altura) {\footnotesize{10º quad}};
    
    \disciplina [nyellow]{0*\sz}{-9*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-9*\altura}{a}{\doisc}{\hyperref[disc:ces]{Computadores, Ética e Sociedade}\\(2-0-0-4)}
    \disciplina [nblue]{6*\sz}{-9*\altura}{a}{\quatc}{{\hyperref[disc:pf]Programação Funcional}\\(4-0-0-4)}
    \disciplina [nblue]{10*\sz}{-9*\altura}{a}{\quatc}{{\hyperref[disc:aaII]Análise de Algoritmos II}\\(4-0-0-4)}
    \disciplina [nred]{14*\sz}{-9*\altura}{a}{\quatc}{Livre\\(4 créditos)}

    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-9*\altura) {18};

    %Q11
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-10*\altura) {\footnotesize{11º quad}};
    
    \disciplina [nyellow]{0*\sz}{-10*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-10*\altura}{a}{\quatc}{{\hyperref[disc:mbd]Modelagem de Banco de Dados}\\(4-0-0-4)}
    \disciplina [nblue]{8*\sz}{-10*\altura}{a}{\quatc}{{\hyperref[disc:cg]Computação Gráfica}\\(0-4-0-4)}
    \disciplina [nblue]{12*\sz}{-10*\altura}{a}{\quatc}{{\hyperref[disc:ol]Interação Humano-Computador}\\(4-0-0-4)}

    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-10*\altura) {16};

    %Q12
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-11*\altura) {\footnotesize{12º quad}};
    
    \disciplina [nyellow]{0*\sz}{-11*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-11*\altura}{a}{\doisc}{{\hyperref[disc:metod]Metodologia\ e Escrita\ Científica\ p/ Computação}\\(2-0-0-2)}
    \disciplina [nblue]{6*\sz}{-11*\altura}{a}{\quatc}{{\hyperref[disc:so]Sistemas Operacionais}\\(3-1-0-4)}
    \disciplina [nblue]{10*\sz}{-11*\altura}{a}{\quatc}{{\hyperref[disc:lfa]Linguagens Formais e Autômatos}\\(4-0-0-4)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-11*\altura) {14};

    %Q13
    \node [draw, rotate=90, black,rectangle, minimum width=3*\altura, minimum
    height=10pt, rounded corners] at (-25pt,-13*\altura) {\footnotesize{5º ANO}};
    
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-12*\altura) {\footnotesize{13º quad}};
    
    \disciplina [nyellow]{0*\sz}{-12*\altura}{a}{\quatc}{Opção Limitada\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-12*\altura}{a}{\quatc}{{\hyperref[disc:compi]Compiladores e Interpretadores}\\(4-0-0-4)}

    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-12*\altura) {$\;\;\;\;$12 (8)};
    
    
    %Q14
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-13*\altura) {\footnotesize{14º quad}};
    
    \disciplina [nred]{0*\sz}{-13*\altura}{a}{\quatc}{Livre\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-13*\altura}{a}{\quatc}{{\hyperref[disc:sist_distr]Sistemas Distribuídos}\\(3-1-0-4)}
    
    \node [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-13*\altura) {$\;\;\;\;$12 (8)};


    %Q15
    \node [draw, rotate=90, black,rectangle, minimum width=\altura, minimum
    height=10pt, rounded corners] at (-10pt,-14*\altura) {\footnotesize{15º quad}};
    
    \disciplina [nred]{0*\sz}{-14*\altura}{a}{\quatc}{Livre\\(4 créditos)}
    \disciplina [nblue]{4*\sz}{-14*\altura}{a}{\quatc}{{\hyperref[disc:seg]Segurança de Dados}\\(3-1-0-4)}

    \node [draw=black, fill=nblue!20,
    dashed,
    very thick, rectangle, rounded corners, inner sep=2pt, inner ysep=2pt, %
    text width=0.98*\quatc, minimum height=2.8*\altura, text centered, anchor=west] (a) at ({8.05*\sz},{-13*\altura})
    {};
    % {  \begin{minipage}{\quatc pt}
    %     \linespread{1.0}\selectfont
    %     \centering
    %     \footnotesize{TCC\\$\;$}
    %   \end{minipage}
    % };

    \disciplina [nblue]{8*\sz}{-14*\altura}{a}{\quatc}{\hyperref[disc:seg]{Trabalho de Conclusão de Curso em Ciência da Computação\\(12-0-0-12)}};


    \node (lastcred) [rectangle, minimum width=10pt, minimum   height=35pt] at (570pt,-14*\altura) {$\;\;\;\;\;$20 (12)};

    
    \draw [red,thick,dashed] (20*\sz,20pt) -- (20*\sz,-14.5*\altura); 
    % \node [text=red] at (434pt,35pt) {20 créditos};

    %\node at (515pt,30pt) {\textbf{créditos}};
    \node[text centered]  at (550pt,-15.3*\altura) {\textbf{créditos} $\;\mathbf{\Uparrow}$};


    % Legenda
    \node [text=black] at (-20pt, -15.3*\altura) {\textbf{Legenda:}};
    
    \disciplinaLeg [gray!60]{20pt}{-15.3*\altura}{bis0505}{80}{Obrigatória BC\&T\\(T-P-E-I)}
    \disciplinaLeg [nblue]{110pt}{-15.3*\altura}{bis0505}{80}{Obrigatória BCC\\(T-P-E-I)}
    \disciplinaLeg [nyellow]{200pt}{-15.3*\altura}{bis0505}{80}{Opção Limitada BCC\\(T-P-E-I)}
    \disciplinaLeg [nred]{290pt}{-15.3*\altura}{bis0505}{80}{Livre BCC\\(T-P-E-I)}
    
    
\end{tikzpicture}


\end{document}
